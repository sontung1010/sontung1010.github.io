---
title: "Advanced Driver Assistant Systems (ADAS) Simulation"
excerpt: "Advanced Driver Assistant Systems (ADAS) Simulation on Embedded Control Systems<br/><img src='/images/ADAS.png'>"
collection: portfolio
---
<div>
    <p>
        <img src="/images/nxp.JPG">
    </p>
</div>


<div>
    <p>
        <b>Brief:</b> This project's goal is to create a Simulink model of a vehicle with Adaptive Cruise Control (ACC). ACC adjusts the vehicle's speed based on traffic conditions, maintaining a safe distance from the car ahead. The model includes a steering mechanism controlled by a haptic wheel and switches between manual and ACC modes. The ACC system uses inputs from a CAN bus, which communicates with up to six simulated vehicles, to control speed and maintain a safe gap. Additionally, the project involves developing an automatic steering controller using PID control, aimed at guiding the vehicle along the road with minimal error and maintaining stability at various speeds. The challenge is to balance the ACC and steering systems' responsiveness and stability.
    </p>
</div>


<div>
    <p>
        <b>Role:</b> Embedded Software Engineer<br>
        - Develop embedded C code, block diagram, and S-function to implement Manual Control, Adaptive Cruise Control, and Auto Steering on the NXP S32 board, which controls car simulation in Simulink from a haptic wheel attached to an encoder DC motor. The car simulation is connected to other car simulations through the CAN network and mutually transmits each otherâ€™s position to show on the screen. 
    </p>
</div>


<div>
    <p>
        <b>Result</b>
    </p>
</div>

<div>
    <iframe width="420" height="315"
    src="https://youtube.com/embed/cird7a_fZxo" 
    title="ADAS Simulation"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen>
    </iframe>
    <center>
        Manual Control test
    </center>
</div>
<p></p>
<div>
    <p>
        - The Adaptive Cruise Control (ACC) system uses the ChooseFront_Outputs_wrapper function to select the lead car from six others based on relative distance and speed. This function takes distances and speeds as inputs and outputs the lead car's distance and speed. Initially, the ACC system had a malfunction causing reverse driving upon activation, which was resolved by completely rebuilding the ACC logic from scratch, leading to proper functioning.<br>
        - The automatic steering system incorporated two PD (Proportional-Derivative) control loops to manage the wheel position and the car's position on the road. This setup required tuning four gains: two proportional and two derivative. The process began with theoretical calculations of these gains for both the wheel (inner loop) and road position (outer loop) control, using specific system dynamics as targets. After establishing baseline gains, real-world testing and adjustments were made in a lab setting, primarily focusing on the derivative gain to ensure accurate following of the road and curve matching. The final gains were selected to optimize performance at a predetermined speed.
    </p>
    <iframe width="420" height="315"
    src="https://youtube.com/embed/mkAzI7Z9w4U?si=Huq-hazSxKd1uG2i" 
    title="ADAS Simulation"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen>
    </iframe>
    <center>
        Adaptive Cruise Control and Auto Steering test
    </center>
</div>
<br>


<div>
    <p>
        [<a href="https://github.com/sontung1010/Courses-Training/tree/UMich_Embedded_Control_Systems" target="_blank">GitHub</a>] 
    </p>
    <p>
        <b>Skills:</b> C, Debugger IDE, MATLAB, Simulink, Microcontroller, GPIO, ADC, PWM, ISR, CAN<br>
        <b>Contributors' Acknowledgement:</b> Prof. James Freudenberg, Adam Lake, Cody Dempster
    </p>
</div>